<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cyber Strike: Hooked or Safe?</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
  body, html  {
    font-family: 'Segoe UI', sans-serif;
    background-image: url('assets/background.png'); /* Dark background */
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    color: #e2e8f0;
    margin: 25px;
    padding: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100%;
  animation: backgroundPulse 10s infinite;
  overflow: hidden;
  }
  @keyframes backgroundPulse {
  0%, 100% { background-color: #0f172a; }
  50% { background-color: #1e293b; }
}

.header {
  margin-top: 50px;
  width: 100%;
  background-color: #0f172a;
  color: #00f0ff;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 25px;
  font-size: 1.2rem;
  border-bottom: 2px solid #334155;
    
  }

  header h1 {
    margin: 0;
    font-size: 2.5rem;
    color: #fff;
    text-shadow: 0 0 10px #00f0ff;
  }

  .score-timer {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-top: 10px;
  }

  .score-timer div {
    font-size: 1.2rem;
    color: #e2e8f0;
  }
  .logo {
      font-family: 'Orbitron', sans-serif;
      font-size: 2.2rem;
      color: #00f0ff;
      margin-left: 30px;
      text-shadow: 0 0 10px #00f0ff;
}

.profile {
  display: flex;
  align-items: center;
  gap: 10px;
  font-weight: bold;
  color: #e2e8f0;
}

.profile img {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  box-shadow: 0 0 8px #00f0ff;
}

/* Theme toggle button */
.theme-toggle {
  background: none;
  border: none;
  font-size: 1.2rem;
  cursor: pointer;
  color: #00f0ff;
  transition: transform 0.2s;
}

.theme-toggle:hover {
  transform: scale(1.2);
}




/* Email List after folders */
.email-list h2 {
  font-size: 1.2rem;
  color: #00f0ff;
  margin-bottom: 10px;
}

  .container {
  display: flex;
  width: 900px;
  max-width: 95%;
  height: 600px;
  background-color: #1e293b;
  border-radius: 10px;
  overflow: hidden;
  box-shadow: 0 0 20px rgba(0, 240, 255, 0.2);
}

.inbox {
  width: 30%;
  background-color: #0f172a;
  padding: 20px;
  border-right: 2px solid #334155;
  overflow-y: auto;
}

.inbox h2 {
  margin-bottom: 20px;
  color: #00f0ff;
  font-size: 1.5rem;
  text-align: center;
}

.email-item {
  padding: 12px;
  margin-bottom: 10px;
  background-color: #1e293b;
  border-radius: 6px;
  color: #e2e8f0;
  cursor: pointer;
  transition: background-color 0.3s;
}

.email-item:hover {
  background-color: #334155;
}

.email-item.active {
  background-color: #00f0ff;
  color: #000;
}

.preview {
  width: 70%;
  padding: 25px;
  display: flex;
  flex-direction: column;
  background-color: #1e293b;
  color: #e2e8f0;
  overflow-y: auto;
}

.preview h3, .preview p {
  margin: 10px 0;
  line-height: 1.4;
}

.buttons {
  display: flex;
  justify-content: center;
  gap: 20px;
  margin-top: auto;
  padding-top: 20px;
  border-top: 1px solid #334155;
}

.buttons button {
  background-color: #00f0ff;
  color: #000;
  font-weight: bold;
  border: none;
  border-radius: 8px;
  padding: 12px 24px;
  cursor: pointer;
  box-shadow: 0 0 10px #00f0ff;
  transition: background-color 0.2s, transform 0.3s;
}

.buttons button:hover {
  background-color: #00b300;
  transform: scale(1.05);
}

  .hidden {
  display: none !important;
}


  #feedback {
    margin-top: 20px;
    font-size: 1.2rem;
    font-weight: bold;
    text-align: center;
    color: #00f0ff; /* Neon green feedback color */
    animation: fadeIn 1s;
  }

  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  #game-over {
    display: none;
    text-align: center;
    padding: 40px;
    background-color: #2d3748;
    border-radius: 12px;
    box-shadow: 0 0 20px rgba(57, 255, 20, 0.4);
    font-size: 2rem;
    color: #fff;
  }

 #start-screen {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: #000; /* optional fallback background */
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  overflow: hidden;
  z-index: 9999; /* ensures it’s above other content */
  padding: 20px;
  box-sizing: border-box;
}

.start-content {
  display: flex;
  justify-content: center;
  align-items: center;
  max-width: 1000px;
  width: 100%;
  gap: 40px;
}

.story {
  max-width: 60%;
  font-size: 1.1rem;
  background: rgba(0, 0, 0, 0.4);
  padding: 20px;
  border-radius: 15px;
  box-shadow: 0 0 10px #00f0ff;
   color: #00f0ff;
}

.sana-container {
  position: relative;
  display: flex;
  align-items: flex-end;
  justify-content: center;
  margin-top: 20px;
}
.sana-image img {
  max-width: 280px;
  height: auto;
  animation: floatSana 4s ease-in-out infinite;
  filter: drop-shadow(0 0 10px #00f0ff);
}

@keyframes floatSana {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-8px); }
}
.speech-bubble {
  position: absolute;
  top: -20px;
  left: -220px;
  background: #082c2c;
  color: #00f0ff;
  padding: 15px 20px;
  border-radius: 15px;
  border: 2px solid #00f0ff;
  box-shadow: 0 0 12px #00f0ff;
  font-size: 1rem;
  line-height: 1.4;
  width: 220px;
  min-height: 80px;
  overflow: hidden;
  white-space: pre-line;
}

.speech-bubble::after {
  content: "";
  position: absolute;
  top: 100%;
  left: 20%;
  border-width: 10px;
  border-style: solid;
  border-color: #082c2c transparent transparent transparent;
}

  #start-screen h1 {
    font-size: 3rem;
    color: #00f0ff;
    text-shadow: 0 0 20px #00f0ff;
  }

  
    

    #start-screen h1 {
      font-size: 3rem;
      margin-bottom: 20px;
    }

    #start-screen .story {
      max-width: 700px;
      font-size: 1.2rem;
      margin-bottom: 30px;
      line-height: 1.6;
    }

    #start-screen button {
  background-color: #00f0ff;
  border: none;
  padding: 12px 30px;
  font-size: 1.3rem;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.3s ease;
  margin-bottom: 200px;
  /* ✨ this brings it closer */
}

    #start-screen button:hover {
      background-color: #27e5fa;
      transform: scale(1.05);
    }
    .email-explanation {
  color: #ffeb3b;
  font-style: italic;
  margin-top: 10px;
}

    #feedback {
      text-align: center;
      font-weight: bold;
      font-size: 1.2rem;
      padding: 10px;
      color: #00f0ff;
    }

    #game-over {
      display: none;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: #2d3748;
      padding: 40px;
      border-radius: 12px;
      box-shadow: 0 0 20px rgba(57, 255, 20, 0.4);
      font-size: 2rem;
      color: #fff;
      z-index: 20;
      text-align: center;
  box-shadow: 0 0 30px #00f0ff, 0 0 60px #00f0ff;
  text-shadow: 0 0 10px #00f0ff;

    }

  .screen {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: #050d1f;
  color: #00f0ff;
  box-shadow: 0 0 30px #00f0ff, 0 0 60px #00f0ff;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  padding: 20px;
}

.hidden {
  display: none;
}

.objective-title {
  font-size: 2.5rem;
  text-shadow: 0 0 10px #00f0ff;
  margin-bottom: 20px;
}

.objective-content {
  font-size: 1.1rem;
  max-width: 600px;
  text-align: left;
  background: rgba(0, 0, 0, 0.4);
  padding: 20px;
  border-radius: 10px;
  box-shadow: 0 0 15px #00f0ff;
}

    /* Light Mode Overrides */
body.light-mode {
  background-color: #f0f4f8;
  color: #000;
}

body.light-mode .container {
  background-color: #fff;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
}

body.light-mode .inbox,
body.light-mode .preview,
body.light-mode .header {
  background-color: #f9fafb;
  color: #000;
}

body.light-mode .email-item,
body.light-mode .folders li {
  background-color: #e2e8f0;
  color: #000;
}

body.light-mode .email-item.active,
body.light-mode .folders .active-folder {
  background-color: #cbd5e1;
  color: #000;
}

body.light-mode .buttons button {
  background-color: #1e40af;
  color: #fff;
  box-shadow: none;
}
.btn-neon {
  padding: 12px 24px;
  border: 2px solid #0ff;
  background: transparent;
  color: #0ff;
  border-radius: 8px;
  font-size: 1rem;
  transition: 0.3s;
  box-shadow: 0 0 10px #0ff;
}
.btn-neon:hover {
  background-color: #0ff;
  color: #000;
  box-shadow: 0 0 20px #0ff, 0 0 30px #0ff;
}
.cyber-border {
      border: 3px solid #00f0ff;
      box-shadow: 0 0 15px #00f0ff;
    }
.hidden {
  display: none;
}


</style>

</head>

<body>
  <div id="start-screen">
  <h1>CyberMail Defense</h1>
  <div class="start-content"> 
    <div class="story">
      <p><strong>Scenario:</strong><br>
        You’re a cybersecurity specialist at a tech company. Your inbox is filling up fast and hidden among legit emails are dangerous phishing attempts.<br>
        <strong>Mission: </strong>Inspect each email, identify phishing red flags, and stop the breach.<br>
        <strong>Objective:</strong> Score points by correctly identifying phishing emails. But be careful! Wrong clicks will cost you points.<br>
      </p>
      
    </div>
    <div class="sana-container">
    <div class="sana-image">
      <img src="assets/sana.png" alt="Cyber Assistant Sara">
      <div class="speech-bubble" id="sanaSpeech"></div>
</div>
    </div>
  </div>
    <button onclick="startGame()">Start Game</button>
  </div>
  

  <header>
    <h1>Cyber Strike: Hooked or Safe?</h1>
    <div class="score-timer">
      <div id="score">Score: 0</div>
      <div id="timer">Time: 180s</div>
    </div>
  </header>
  <div class="header">
  <div class="logo">📧 CyberMail</div>
  <div class="profile">
    <span>Agent</span>
    <img src="assets/profile.png" alt="profile" />
    <button class="theme-toggle" onclick="toggleTheme()">🌓</button>
  </div>
</div>
<p id="explanation" class="email-explanation"></p>


  <div class="container">
    <div class="inbox">
      <div class="folders">
  
  <ul>
    <class="active-folder">
    
  
  </ul>
</div>

      <h2>Inbox</h2>
      <div id="inbox-list"></div>
    </div>
    <div class="preview">
      <h3 id="email-subject">Subject:</h3>
      <p id="email-sender">From:</p>
      <p id="email-body">Body:</p>
      <div id="feedback"></div>
    </div>
  </div>
  <div class="buttons">
        <button onclick="markAs(true)">❌ Phishing</button>
        <button onclick="markAs(false)">✅ Safe</button>
      </div>

  <div id="game-over">
  <h1>CyberMail Defense</h1>
  <h2 class="text-4xl font-bold neon-text">Email Phishing</h2>
  <div>
   <h3> Game Over!</h3>
   <h3>Final Score: <span id="final-score"></span></h3>
  </div>
  <div id="game-over-screen" class="hidden fixed inset-0 bg-black bg-opacity-80 flex flex-col justify-center items-center z-50 text-white text-center space-y-6">
  <div class="space-x-5">
    <button onclick="goToHomePage()" class="btn-neon">🏠 Home Page</button>
    <button onclick="showObjectiveScreen()" class="btn-neon">🎯 Objective</button>

  </div>
</div>
<div id="objective-screen" class="screen hidden">
  <h1 class="objective-title">🎯 Mission Objective</h1>
  <div class="objective-content">
    <p><strong>Objective:</strong> Players must analyze suspicious emails and decide whether they are phishing or safe, using clues like sender address, links, urgency, and grammar.</p>
    <p><strong>Learning Outcomes:</strong></p>
    <ul>
      <li>✅ Identify red flags in phishing emails.</li>
      <li>✅ Understand tactics like urgency, fake domains, and generic greetings.</li>
    </ul>
  </div>
  <button onclick="goBackToResults()" class="btn-neon">🔙 Back to Results</button>
</div>


  <script>
    const text = "Hi!! I'm Sana, your cyber guide. I’ll help you complete this mission!";
const speechBubble = document.getElementById("sanaSpeech");
let index = 0;

function typeWriter() {
  if (index < text.length) {
    speechBubble.innerHTML += text.charAt(index);
    index++;
    setTimeout(typeWriter, 40); // Speed (ms)
  }
}

window.addEventListener("load", () => {
  setTimeout(typeWriter, 800); // Delay before starting
});

    let emails = [
  {
    subject: "Account Suspended",
    sender: "Bank Alert",
    body: "Dear Customer,\n\nWe have detected unusual activity in your bank account and, as a precautionary measure, your account has been temporarily suspended. To restore full access, please verify your account immediately by clicking the link below:\n\nhttp://fake-bank.com\n\nFailure to verify within 24 hours will result in permanent suspension.\n\nSincerely,\nBank Security Team",
    isPhishing: true,
    explanation: "The email uses fear-based urgency and a suspicious link to a fake banking site, which is a hallmark of phishing attempts."
  },
  {
    subject: "Team Lunch Reminder",
    sender: "hr@company.com",
    body: "Hi Team,\n\nJust a quick reminder about our upcoming team lunch this Friday at 12:30 PM in the break room. It’s a great opportunity to relax and catch up with everyone.\n\nLooking forward to seeing you all there!\n\nBest,\nHR Department",
    isPhishing: false,
    explanation: "This message is a normal internal communication with no suspicious elements or requests."
  },
  {
    subject: "Win a Free iPhone!",
    sender: "promo@scamzone.net",
    body: "Congratulations!\n\nYou’ve been randomly selected as the winner of a brand-new iPhone 15! To claim your prize, just click the link below and enter your details:\n\nhttp://scamzone.net/claim\n\nHurry, this offer is valid for a limited time only!\n\nThe Giveaway Team",
    isPhishing: true,
    explanation: "The message uses a bait offer and comes from an untrusted, suspicious domain — classic signs of phishing."
  },
  {
    subject: "Weekly Report",
    sender: "manager@company.com",
    body: "Hi,\n\nPlease find attached the weekly report for your review. Let me know if you have any questions.\n\nBest,\nManager",
    isPhishing: false,
    explanation: "Legitimate business email with a reasonable request from a known sender."
  },
  {
    subject: "Password Expiry Alert",
    sender: "it@secure-mail.com",
    body: "Dear User,\n\nYour email password is set to expire today. To maintain access to your account, please reset your password now:\n\nhttp://secure-mail.com/reset\n\nThis is an automated message from the IT Helpdesk.\n\nThank you,\nIT Department",
    isPhishing: true,
    explanation: "Sense of urgency with a generic sender name (not your IT department’s actual domain) is a red flag."
  },
  {
    subject: "Job Application Status",
    sender: "recruitment@company.com",
    body: "Dear Candidate,\n\nThank you for applying to our company. We appreciate your interest in the open position. Our recruitment team is currently reviewing all applications and will reach out shortly if you are shortlisted for the next round.\n\nKind regards,\nRecruitment Team",
    isPhishing: false,
    explanation: "Polite and expected follow-up from a known company sender, no action required."
  },
  {
    subject: "Claim Your Free Gift Card Now",
    sender: "gift@fakepromo.com",
    body: "Hi There!\n\nYou’ve been chosen to receive a $100 Amazon gift card! Just click below to claim your reward instantly:\n\nhttp://fakepromo.com/giftcard\n\nDon’t miss out — claim your gift before it expires!\n\nCheers,\nPromotions Department",
    isPhishing: true,
    explanation: "Too-good-to-be-true offer with an untrusted sender domain indicates phishing."
  },
  {
    subject: "Project Deadline Reminder",
    sender: "pm@company.com",
    body: "Hello Team,\n\nJust a reminder that the project deadline is next Monday at 5 PM. Please ensure all deliverables are finalized and submitted to the shared drive before then.\n\nLet me know if anyone needs assistance or extensions.\n\nThanks,\nProject Manager",
    isPhishing: false,
    explanation: "Routine project communication from a legitimate internal address."
  },
  {
    subject: "Unusual Login Attempt Detected",
    sender: "security@service.com",
    body: "Dear User,\n\nWe noticed a login attempt to your account from an unfamiliar location (IP: 192.168.1.15). If this was you, no further action is needed.\n\nIf you did not make this attempt, please secure your account immediately by visiting the link below:\n\nhttp://service.com/security-check\n\nStay safe,\nSecurity Team",
    isPhishing: true,
    explanation: "A vague security alert designed to induce panic; legitimate alerts often include specific details and trusted links."
  },
  {
    subject: "Congratulations! You've Won a Free Vacation!",
    sender: "vacation@scamsite.com",
    body: "Dear Winner,\n\nWe are thrilled to inform you that you’ve won a luxurious 7-day all-inclusive vacation to the Bahamas! To claim your prize, simply click below and provide your contact information:\n\nhttp://scamsite.com/vacation\n\nThis is a once-in-a-lifetime opportunity! Don’t miss out!\n\nSincerely,\nGlobal Travel Promotions",
    isPhishing: true,
    explanation: "Sensational subject line, generic sender, and urgency with no verification – classic phishing technique."
  }
];


    let currentEmail = null;
    let score = 0;
    let timeLeft = 180;
    let timer;

    const inboxList = document.getElementById("inbox-list");
    const subjectText = document.getElementById("email-subject");
    const senderText = document.getElementById("email-sender");
    const bodyText = document.getElementById("email-body");
    const scoreText = document.getElementById("score");
    const timerText = document.getElementById("timer");
    const feedback = document.getElementById("feedback");
    const gameOverScreen = document.getElementById("game-over");
    const finalScoreText = document.getElementById("final-score");

    const loadEmails = async () => {
      renderInbox();
    };

    const renderInbox = () => {
      inboxList.innerHTML = "";
      emails.forEach((email, index) => {
        const item = document.createElement("div");
        item.className = "email-item";
        item.textContent = email.subject;
        item.onclick = (e) => showEmail(index, e);
        inboxList.appendChild(item);
      });
      
    };

    const showEmail = (index, event) => {
      currentEmail = index;
      document.querySelectorAll('.email-item').forEach(el => el.classList.remove('active'));
      event.target.classList.add('active');

      const email = emails[index];
      subjectText.textContent = "Subject: " + email.subject;
      senderText.textContent = "From: " + email.sender;
      bodyText.innerHTML = "Body: " + email.body.replace(/\n/g, "<br>");
    };

    const explanationText = document.getElementById("explanation");

const markAs = (isPhishing) => {
  if (currentEmail === null) return;
  const email = emails[currentEmail];

  if (email.isPhishing === isPhishing) {
    score += 10;
    feedback.textContent = "✅ Correct!";
  } else {
    score -= 5;
    feedback.textContent = "❌ Wrong!";
  }

  explanationText.textContent = "Explanation: " + email.explanation;

  setTimeout(() => {
    feedback.textContent = "";
    explanationText.textContent = "";
  }, 5000); // explanation disappears after 3s

  scoreText.textContent = "Score: " + score;
  emails.splice(currentEmail, 1);
  currentEmail = null;
  subjectText.textContent = "Subject:";
  senderText.textContent = "From:";
  bodyText.textContent = "Body:";
  renderInbox();

  if (emails.length === 0) endGame();
};



    const startTimer = () => {
      timer = setInterval(() => {
        timeLeft--;
        timerText.textContent = "Time: " + timeLeft + "s";
        if (timeLeft <= 0) {
          clearInterval(timer);
          endGame();
        }
      }, 1000);
    };

    const endGame = () => {
      document.querySelector(".container").style.display = "none";
      document.querySelector('.buttons').style.display = 'none';
      gameOverScreen.style.display = "block";
      finalScoreText.textContent = score;
      document.getElementById('game-over-screen').classList.remove('hidden');
      document.getElementById('game-container').style.display = 'none';
      document.getElementById('game-over-screen').classList.remove('hidden');
      document.getElementById('header').classList.remove('hidden');
      document.getElementById('sscore-timer').classList.remove('hidden');
    };

    const startGame = async () => {
      document.getElementById('start-screen').style.display = 'none';
      await loadEmails();
      startTimer();
    };
   function showObjectiveScreen() {
  document.getElementById("objective-screen").classList.remove("hidden");

  // Hide the game and other sections
  document.getElementById("game-section").style.display = "none"; // Replace with your actual game section ID/class
}

function goBackToResults() {
  document.getElementById("objective-screen").classList.add("hidden");

  // Show the results or game over section
  document.getElementById("game-section").style.display = "block"; // Replace with actual results section
}

function hideObjectiveScreen() {
  document.getElementById("objective-screen").classList.add("hidden");

  // Show the game over UI or results again
  document.querySelector("header").style.display = "flex";
  document.querySelector(".header").style.display = "flex";
  document.querySelector(".container").style.display = "flex";
  document.querySelector(".buttons").style.display = "flex";
}

function toggleTheme() {
  document.body.classList.toggle('light-mode');
}
function goToHomePage() {
  window.location.href = "level-selection.html"; // Change to your actual home page path
}

function showObjective() {
  alert("Your mission was to identify all phishing emails without getting hooked!"); 
  // Or open a modal with detailed objectives
}


  </script>
</body>
</html>